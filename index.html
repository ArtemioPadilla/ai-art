<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Art — Generative Art Collections</title>
<link rel="stylesheet" href="shared/styles.css">
<link rel="stylesheet" href="shared/hub.css">
</head>
<body>

<!-- ===== HERO ===== -->
<header class="hero">
  <canvas id="hero-canvas"></canvas>
  <div class="hero-content">
    <h1>AI ART</h1>
    <p class="subtitle">A growing gallery of code-generated art collections — sacred geometry, mathematical beauty, and generative designs</p>
    <div class="stats" id="hub-stats"></div>
    <nav class="nav-pills">
      <a href="#collections" class="nav-pill">Browse Collections</a>
      <a href="https://github.com/ArtemioPadilla/ai-art" class="nav-pill" target="_blank">GitHub</a>
    </nav>
  </div>
  <div class="scroll-hint">
    <span>Scroll to explore</span>
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 13l5 5 5-5M7 6l5 5 5-5"/></svg>
  </div>
</header>

<!-- ===== COLLECTIONS ===== -->
<div class="hub-section" id="collections">
  <div class="section-header fade-in">
    <h2>Collections</h2>
    <div class="divider"></div>
    <p>Each collection is a self-contained body of generative artwork with its own theme and tools.</p>
  </div>
  <div class="collections-grid" id="collections-grid"></div>
</div>

<!-- ===== FOOTER ===== -->
<footer>
  <p>All art generated with code</p>
  <p style="margin-top: 0.5rem;">
    <a href="https://github.com/ArtemioPadilla/ai-art">View on GitHub</a>
  </p>
</footer>

<script type="module">
  import { initHeroCanvas } from './shared/hero-canvas.js';
  import { observeFadeIns } from './shared/scroll-animations.js';

  async function loadHub() {
    const resp = await fetch('collections/manifest.json');
    const manifest = await resp.json();
    const collections = manifest.collections;

    // Aggregate stats
    const totals = {};
    collections.forEach(c => {
      c.stats.forEach(s => {
        totals[s.label] = (totals[s.label] || { value: 0, color: s.color });
        totals[s.label].value += s.value;
      });
    });

    const statsEl = document.getElementById('hub-stats');
    statsEl.innerHTML = [
      ...Object.entries(totals).map(([label, s]) => `
        <div class="stat">
          <div class="stat-number ${s.color}">${s.value}</div>
          <div class="stat-label">${label}</div>
        </div>
      `),
      `<div class="stat">
        <div class="stat-number emerald">${collections.length}</div>
        <div class="stat-label">${collections.length === 1 ? 'Collection' : 'Collections'}</div>
      </div>`
    ].join('');

    // Render collection cards
    const grid = document.getElementById('collections-grid');
    grid.innerHTML = collections.map(c => `
      <a href="${c.path}" class="collection-card fade-in">
        <div class="collection-cover">
          <img src="${c.coverImage}" alt="${c.name}" loading="lazy">
        </div>
        <div class="collection-body">
          <h3>${c.name}</h3>
          <p class="tagline">${c.tagline}</p>
          <div class="collection-stats">
            ${c.stats.map(s => `
              <div class="collection-stat">
                <div class="collection-stat-value ${s.color}">${s.value}</div>
                <div class="collection-stat-label">${s.label}</div>
              </div>
            `).join('')}
          </div>
          <div class="collection-tags">
            ${c.tags.map(t => `<span class="collection-tag">${t}</span>`).join('')}
          </div>
        </div>
      </a>
    `).join('');

    observeFadeIns();
  }

  loadHub();
  initHeroCanvas();
</script>
</body>
</html>
